<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü - TinyStepsBD</title>
    <meta name="description" content="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ TinyStepsBD ‡¶è ‡¶∂‡¶ø‡¶∂‡ßÅ ‡¶ú‡ßÅ‡¶§‡¶æ ‡¶ì ‡¶∏‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡•§">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/animations.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/icons/ui/logo.png">
</head>
<body>
    <!-- Header Component -->
    <div id="header-container"></div>

    <!-- Breadcrumb -->
    <section class="breadcrumb">
        <div class="container">
            <nav class="breadcrumb-nav">
                <a href="index.html">‡¶π‡ßã‡¶Æ</a>
                <span class="separator">/</span>
                <a href="shop.html">‡¶™‡¶£‡ßç‡¶Ø</a>
                <span class="separator">/</span>
                <span class="current">‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü</span>
            </nav>
        </div>
    </section>

    <!-- Cart Section -->
    <section class="cart-section">
        <div class="container">
            <div class="cart-layout">
                <!-- Cart Items -->
                <div class="cart-items">
                    <div class="cart-header">
                        <h2>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü</h2>
                        <span class="items-count" id="cart-items-count">‡ß¶‡¶ü‡¶ø ‡¶™‡¶£‡ßç‡¶Ø</span>
                    </div>

                    <div class="cart-content" id="cart-content">
                        <!-- Empty Cart State -->
                        <div class="empty-cart" id="empty-cart">
                            <div class="empty-state">
                                <img src="assets/images/icons/ui/empty-cart.png" alt="‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø" onerror="this.src='assets/images/placeholder.jpg'">
                                <h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø</h3>
                                <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá ‡¶è‡¶ñ‡¶®‡¶ì ‡¶ï‡ßã‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶®‡ßá‡¶á‡•§ ‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                                <a href="shop.html" class="btn btn-primary">‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                            </div>
                        </div>

                        <!-- Cart Items List -->
                        <div class="cart-items-list" id="cart-items-list" style="display: none;">
                            <div class="cart-table">
                                <div class="cart-table-header">
                                    <div class="col-product">‡¶™‡¶£‡ßç‡¶Ø</div>
                                    <div class="col-price">‡¶¶‡¶æ‡¶Æ</div>
                                    <div class="col-quantity">‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</div>
                                    <div class="col-total">‡¶Æ‡ßã‡¶ü</div>
                                    <div class="col-actions"></div>
                                </div>
                                <div class="cart-table-body" id="cart-table-body">
                                    <!-- Cart items will be loaded dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Cart Actions -->
                    <div class="cart-actions" id="cart-actions" style="display: none;">
                        <div class="continue-shopping">
                            <a href="shop.html" class="btn btn-outline">
                                <span class="btn-icon">‚Üê</span>
                                ‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶®
                            </a>
                        </div>
                        <div class="cart-buttons">
                            <button class="btn btn-secondary" id="update-cart">
                                ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                            </button>
                            <button class="btn btn-primary" id="proceed-checkout">
                                ‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="order-summary">
                    <div class="summary-card">
                        <h3>‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø</h3>
                        
                        <div class="summary-items">
                            <div class="summary-row">
                                <span>‡¶∏‡¶æ‡¶¨‡¶ü‡ßã‡¶ü‡¶æ‡¶≤</span>
                                <span id="subtotal-amount">‡ß¶ ‡ß≥</span>
                            </div>
                            <div class="summary-row">
                                <span>‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶ö‡¶æ‡¶∞‡ßç‡¶ú</span>
                                <span id="delivery-charge">‡ß¶ ‡ß≥</span>
                            </div>
                            <div class="summary-row discount-row">
                                <span>‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</span>
                                <span id="discount-amount">‡ß¶ ‡ß≥</span>
                            </div>
                            <div class="summary-row total-row">
                                <span>‡¶Æ‡ßã‡¶ü Amount</span>
                                <span id="total-amount">‡ß¶ ‡ß≥</span>
                            </div>
                        </div>

                        <!-- Delivery Info -->
                        <div class="delivery-info">
                            <h4>‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶§‡¶•‡ßç‡¶Ø</h4>
                            <div class="delivery-options">
                                <div class="delivery-option">
                                    <input type="radio" id="inside-dhaka" name="delivery" value="inside" checked>
                                    <label for="inside-dhaka">
                                        <span class="option-title">‡¶¢‡¶æ‡¶ï‡¶æ ‡¶∂‡¶π‡¶∞</span>
                                        <span class="option-price">‡ßÆ‡ß¶ ‡ß≥</span>
                                    </label>
                                </div>
                                <div class="delivery-option">
                                    <input type="radio" id="outside-dhaka" name="delivery" value="outside">
                                    <label for="outside-dhaka">
                                        <span class="option-title">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó‡ßÄ‡¶Ø‡¶º ‡¶∂‡¶π‡¶∞</span>
                                        <span class="option-price">‡ßß‡ß´‡ß¶ ‡ß≥</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Coupon Code -->
                        <div class="coupon-section">
                            <h4>‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶°</h4>
                            <div class="coupon-input">
                                <input type="text" id="coupon-code" placeholder="‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                                <button class="btn btn-outline" id="apply-coupon">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶æ‡¶á</button>
                            </div>
                            <div class="coupon-message" id="coupon-message"></div>
                        </div>

                        <!-- Checkout Button -->
                        <button class="btn btn-primary btn-large btn-full" id="checkout-btn">
                            <span class="btn-icon">üîí</span>
                            ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü
                        </button>

                        <!-- Security Features -->
                        <div class="security-features">
                            <div class="security-item">
                                <img src="assets/images/icons/features/cod.png" alt="‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ö‡¶® ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø" onerror="this.src='assets/images/placeholder.jpg'">
                                <span>‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ö‡¶® ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø</span>
                            </div>
                            <div class="security-item">
                                <img src="assets/images/icons/features/secure.png" alt="‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶" onerror="this.src='assets/images/placeholder.jpg'">
                                <span>‡ßß‡ß¶‡ß¶% ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶</span>
                            </div>
                            <div class="security-item">
                                <img src="assets/images/icons/features/support.png" alt="‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü" onerror="this.src='assets/images/placeholder.jpg'">
                                <span>‡ß®‡ß™/‡ß≠ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</span>
                            </div>
                        </div>
                    </div>

                    <!-- Trust Badges -->
                    <div class="trust-badges">
                        <div class="trust-badge">
                            <img src="assets/images/icons/features/quality.png" alt="‡¶â‡¶ö‡ßç‡¶ö ‡¶Æ‡¶æ‡¶®" onerror="this.src='assets/images/placeholder.jpg'">
                            <span>‡ßß‡ß¶‡ß¶% ‡¶Ö‡¶∞‡¶ø‡¶ú‡¶ø‡¶®‡¶æ‡¶≤ ‡¶™‡¶£‡ßç‡¶Ø</span>
                        </div>
                        <div class="trust-badge">
                            <img src="assets/images/icons/features/return.png" alt="‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶®" onerror="this.src='assets/images/placeholder.jpg'">
                            <span>‡ß≠ ‡¶¶‡¶ø‡¶® ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶®</span>
                        </div>
                        <div class="trust-badge">
                            <img src="assets/images/icons/features/warranty.png" alt="‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶ü‡¶ø" onerror="this.src='assets/images/placeholder.jpg'">
                            <span>‡ß© ‡¶Æ‡¶æ‡¶∏ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶ü‡¶ø</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recently Viewed -->
    <section class="recently-viewed" id="recently-viewed" style="display: none;">
        <div class="container">
            <h2 class="section-title">‡¶∏‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶™‡¶£‡ßç‡¶Ø</h2>
            <div class="products-grid" id="recent-products">
                <!-- Recently viewed products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Footer Component -->
    <div id="footer-container"></div>

    <!-- JavaScript Files -->
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/app.js"></script>
    <script src="assets/js/cart.js"></script>
    <script src="assets/js/data-manager.js"></script>
    
    <script>
        // Load header and footer components
        document.addEventListener('DOMContentLoaded', function() {
            // Load header
            fetch('components/header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-container').innerHTML = data;
                    initializeMobileMenu();
                    setActiveNavLink('cart');
                    updateCartCount();
                });

            // Load footer
            fetch('components/footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-container').innerHTML = data;
                });

            // Initialize cart page
            initializeCartPage();
        });

        function initializeMobileMenu() {
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const mobileNav = document.querySelector('.mobile-nav');
            
            if (mobileMenuBtn && mobileNav) {
                mobileMenuBtn.addEventListener('click', function() {
                    mobileNav.classList.toggle('active');
                });
            }
        }

        function setActiveNavLink(page) {
            // This function will be implemented in main JS
            console.log('Setting active nav for:', page);
        }

        function updateCartCount() {
            // This function will be implemented in cart.js
            console.log('Updating cart count...');
        }

        function initializeCartPage() {
            // Load cart items
            loadCartItems();
            
            // Initialize event listeners
            initializeEventListeners();
            
            // Load recently viewed products
            loadRecentlyViewed();
        }

        function loadCartItems() {
            const cartItems = getCartItems();
            
            if (cartItems.length === 0) {
                showEmptyCart();
            } else {
                showCartItems(cartItems);
                updateOrderSummary(cartItems);
            }
        }

        function getCartItems() {
            // This will be implemented in cart.js
            // For now, return sample data
            return [
                {
                    id: 'TS-BD_517',
                    name: '‡ß¶-‡ßß.‡ß´ ‡¶¨‡¶õ‡¶∞ ‡¶¨‡¶Ø‡¶º‡¶∏‡ßÄ ‡¶∂‡¶ø‡¶∂‡ßÅ‡¶∞ ‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡ßÅ‡¶§‡¶æ',
                    price: 890,
                    quantity: 1,
                    color: '‡¶∏‡¶æ‡¶¶‡¶æ',
                    size: '25',
                    image: 'https://drive.google.com/uc?export=view&id=1QSWmGWKcmh0PHEZDThC2m4PMOyy4iljU',
                    maxQuantity: 10
                },
                {
                    id: 'TS-BD_518',
                    name: 'LED ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶õ‡ßá‡¶≤‡ßá‡¶¶‡ßá‡¶∞ ‡¶∏‡ßç‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶∏ ‡¶ú‡ßÅ‡¶§‡¶æ',
                    price: 1490,
                    quantity: 2,
                    color: '‡¶ñ‡¶æ‡¶ï‡¶ø',
                    size: '26',
                    image: 'https://drive.google.com/uc?export=view&id=13TN1Fx8DJIWv8QUoyuAbCbtWg9AERmnu',
                    maxQuantity: 10
                }
            ];
        }

        function showEmptyCart() {
            document.getElementById('empty-cart').style.display = 'block';
            document.getElementById('cart-items-list').style.display = 'none';
            document.getElementById('cart-actions').style.display = 'none';
            document.getElementById('cart-items-count').textContent = '‡ß¶‡¶ü‡¶ø ‡¶™‡¶£‡ßç‡¶Ø';
        }

        function showCartItems(items) {
            document.getElementById('empty-cart').style.display = 'none';
            document.getElementById('cart-items-list').style.display = 'block';
            document.getElementById('cart-actions').style.display = 'flex';
            
            document.getElementById('cart-items-count').textContent = `${items.length}‡¶ü‡¶ø ‡¶™‡¶£‡ßç‡¶Ø`;
            
            const cartTableBody = document.getElementById('cart-table-body');
            cartTableBody.innerHTML = items.map(item => `
                <div class="cart-item" data-id="${item.id}">
                    <div class="col-product">
                        <div class="product-info">
                            <div class="product-image">
                                <img src="${item.image}" alt="${item.name}" onerror="this.src='assets/images/placeholder.jpg'">
                            </div>
                            <div class="product-details">
                                <h4 class="product-name">${item.name}</h4>
                                <div class="product-variants">
                                    <span class="variant">‡¶∞‡¶Ç: ${item.color}</span>
                                    <span class="variant">‡¶∏‡¶æ‡¶á‡¶ú: ${item.size}</span>
                                </div>
                                <div class="product-mobile-price">
                                    ${item.price} ‡ß≥
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-price">
                        <span class="product-price">${item.price} ‡ß≥</span>
                    </div>
                    <div class="col-quantity">
                        <div class="quantity-selector">
                            <button type="button" class="quantity-btn decrease" data-id="${item.id}">-</button>
                            <input type="number" class="quantity-input" value="${item.quantity}" min="1" max="${item.maxQuantity}" data-id="${item.id}">
                            <button type="button" class="quantity-btn increase" data-id="${item.id}">+</button>
                        </div>
                    </div>
                    <div class="col-total">
                        <span class="item-total">${item.price * item.quantity} ‡ß≥</span>
                    </div>
                    <div class="col-actions">
                        <button class="remove-btn" data-id="${item.id}" title="‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶∞‡¶æ‡¶®">
                            <img src="assets/images/icons/ui/close.png" alt="‡¶∏‡¶∞‡¶æ‡¶®" onerror="this.src='assets/images/placeholder.jpg'">
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function updateOrderSummary(items) {
            const subtotal = items.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const deliveryCharge = getDeliveryCharge();
            const discount = getDiscountAmount();
            const total = subtotal + deliveryCharge - discount;
            
            document.getElementById('subtotal-amount').textContent = `${subtotal} ‡ß≥`;
            document.getElementById('delivery-charge').textContent = `${deliveryCharge} ‡ß≥`;
            document.getElementById('discount-amount').textContent = `-${discount} ‡ß≥`;
            document.getElementById('total-amount').textContent = `${total} ‡ß≥`;
        }

        function getDeliveryCharge() {
            const selectedOption = document.querySelector('input[name="delivery"]:checked');
            return selectedOption ? parseInt(selectedOption.value === 'inside' ? 80 : 150) : 0;
        }

        function getDiscountAmount() {
            // This will be implemented with coupon logic
            return 0;
        }

        function initializeEventListeners() {
            // Quantity buttons
            document.addEventListener('click', function(e) {
                if (e.target.closest('.quantity-btn')) {
                    const button = e.target.closest('.quantity-btn');
                    const itemId = button.getAttribute('data-id');
                    const isIncrease = button.classList.contains('increase');
                    
                    updateQuantity(itemId, isIncrease);
                }
                
                if (e.target.closest('.remove-btn')) {
                    const button = e.target.closest('.remove-btn');
                    const itemId = button.getAttribute('data-id');
                    
                    removeFromCart(itemId);
                }
            });
            
            // Quantity input changes
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('quantity-input')) {
                    const input = e.target;
                    const itemId = input.getAttribute('data-id');
                    const quantity = parseInt(input.value);
                    
                    if (quantity >= 1 && quantity <= 10) {
                        updateCartItemQuantity(itemId, quantity);
                    } else {
                        input.value = 1;
                        updateCartItemQuantity(itemId, 1);
                    }
                }
            });
            
            // Delivery option changes
            document.querySelectorAll('input[name="delivery"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const cartItems = getCartItems();
                    updateOrderSummary(cartItems);
                });
            });
            
            // Coupon application
            document.getElementById('apply-coupon').addEventListener('click', applyCoupon);
            
            // Checkout button
            document.getElementById('checkout-btn').addEventListener('click', proceedToCheckout);
            document.getElementById('proceed-checkout').addEventListener('click', proceedToCheckout);
            
            // Update cart button
            document.getElementById('update-cart').addEventListener('click', updateCart);
        }

        function updateQuantity(itemId, isIncrease) {
            const input = document.querySelector(`.quantity-input[data-id="${itemId}"]`);
            let quantity = parseInt(input.value);
            
            if (isIncrease) {
                if (quantity < 10) {
                    quantity++;
                }
            } else {
                if (quantity > 1) {
                    quantity--;
                }
            }
            
            input.value = quantity;
            updateCartItemQuantity(itemId, quantity);
        }

        function updateCartItemQuantity(itemId, quantity) {
            // This will be implemented in cart.js
            console.log(`Updating item ${itemId} quantity to ${quantity}`);
            
            // Simulate update
            const cartItems = getCartItems();
            updateOrderSummary(cartItems);
        }

        function removeFromCart(itemId) {
            if (confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶™‡¶£‡ßç‡¶Ø‡¶ü‡¶ø ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                // This will be implemented in cart.js
                console.log(`Removing item ${itemId} from cart`);
                
                // Simulate removal
                const cartItems = getCartItems().filter(item => item.id !== itemId);
                
                if (cartItems.length === 0) {
                    showEmptyCart();
                } else {
                    showCartItems(cartItems);
                    updateOrderSummary(cartItems);
                }
                
                updateCartCount();
            }
        }

        function applyCoupon() {
            const couponCode = document.getElementById('coupon-code').value.trim();
            const messageElement = document.getElementById('coupon-message');
            
            if (!couponCode) {
                messageElement.textContent = '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
                messageElement.className = 'coupon-message error';
                return;
            }
            
            // Simulate coupon validation
            if (couponCode === 'TINY10') {
                messageElement.textContent = '‡¶ï‡ßÅ‡¶™‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡ßß‡ß¶% ‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§';
                messageElement.className = 'coupon-message success';
                
                // Update order summary with discount
                const cartItems = getCartItems();
                updateOrderSummary(cartItems);
            } else {
                messageElement.textContent = '‡¶Ö‡¶¨‡ßà‡¶ß ‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶°‡•§ ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ï‡ßã‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§';
                messageElement.className = 'coupon-message error';
            }
        }

        function proceedToCheckout() {
            const cartItems = getCartItems();
            
            if (cartItems.length === 0) {
                alert('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø‡•§ ‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                return;
            }
            
            // Validate all items have color and size selected
            const invalidItems = cartItems.filter(item => !item.color || !item.size);
            
            if (invalidItems.length > 0) {
                alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶ï‡¶≤ ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶∞‡¶Ç ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶æ‡¶á‡¶ú ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                return;
            }
            
            // Proceed to checkout
            window.location.href = 'checkout.html';
        }

        function updateCart() {
            // This will save all current quantities and options
            const cartItems = getCartItems();
            console.log('Updating cart with items:', cartItems);
            
            alert('‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
        }

        function loadRecentlyViewed() {
            // This will be implemented in data-manager.js
            // For now, hide the section
            document.getElementById('recently-viewed').style.display = 'none';
        }
    </script>
</body>
</html>